<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Projects</title>

    <!-- Link to external CSS file (you can move inline CSS here later) -->
    <link rel="stylesheet" href="style.css" />

    <!-- Bootstrap CSS for responsive design and prebuilt components -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body class="d-flex flex-column min-vh-100"> <!-- Flex layout ensures footer sticks to bottom -->

    <!-- NAVIGATION BAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <!-- Logo/Brand -->
            <a class="navbar-brand" href="../home.html">My Portfolio</a>

            <!-- Hamburger toggle button for mobile screens -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar links -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../home.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link active" href="../projects.html">Projects</a></li>
                    <li class="nav-item"><a class="nav-link" href="../Photo.html">Photography</a></li>
                    <li class="nav-item"><a class="nav-link" href="../contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="flex-fill">
        <div class="container my-5">
            <div class="card-body">
                <!-- Unit Info Section -->
                <ul class="list-group list-group-flush my-4">
                    <li class="list-group-item"></li>
                    <h5 class="card-title">Unit - 6</h5>
                    <p class="card-text">Unit 6 Consolidate - Task 1 - Design a Dynamic Web Application</p>

                    <!-- Navigation buttons for previous and next units -->
                    <div class="d-flex justify-content-between mt-auto">
                        <a href="Unit-5.html" class="btn btn-outline-secondary">Unit 5</a>
                        <div class="text-end">
                            <a href="Unit-7.html" class="btn btn-primary">Next Unit – 7</a>
                        </div>
                    </div>

                    <li class="list-group-item"></li>
                    <li class="list-group-item"></li>
                </ul>
            </div>
        </div>

        <!-- PRODUCT REVIEW SECTION -->
        <div class="container">
            <h1>Product Reviews</h1>

            <!-- REVIEW FORM -->
            <form id="reviewForm">
                <!-- Name input -->
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                    <small class="error-msg" id="nameError"></small> <!-- Error message placeholder -->
                </div>

                <!-- Rating selection -->
                <div class="form-group">
                    <label for="rating">Rating:</label>
                    <select id="rating" name="rating" required>
                        <option value="">Select Rating</option>
                        <option value="5">5 - Excellent</option>
                        <option value="4">4 - Very Good</option>
                        <option value="3">3 - Good</option>
                        <option value="2">2 - Poor</option>
                        <option value="1">1 - Terrible</option>
                    </select>
                    <small class="error-msg" id="ratingError"></small>
                </div>

                <!-- Comment input -->
                <div class="form-group">
                    <label for="comment">Comment:</label>
                    <textarea id="comment" name="comment" rows="3" required></textarea>
                    <small class="error-msg" id="commentError"></small>
                </div>

                <!-- Submit button -->
                <button type="submit">Submit Review</button>
            </form>

            <hr>

            <!-- Reviews display container -->
            <h2>All Reviews</h2>
            <div id="reviewsContainer">
                <!-- Reviews will be loaded here dynamically by JS -->
            </div>
        </div>

        <!-- INLINE CSS STYLES (can move to external style.css later) -->
        <style>
            /* General body styling */
            body {
                font-family: Arial, sans-serif;
                background-color: #f5f5f5;
                margin: 0;
                padding: 0;
            }

            /* Center headings */
            h1,
            h2 {
                text-align: center;
                color: #333;
            }

            /* Form group spacing */
            .form-group {
                margin-bottom: 15px;
            }

            /* Labels styling */
            label {
                display: block;
                font-weight: bold;
            }

            /* Inputs, select, textarea styling */
            input,
            select,
            textarea {
                width: 100%;
                padding: 8px 10px;
                margin-top: 5px;
                border: 1px solid #ccc;
                border-radius: 5px;
            }

            /* Submit button styling */
            button {
                display: block;
                width: 100%;
                padding: 10px;
                background-color: #0077cc;
                color: white;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                font-size: 16px;
            }

            /* Button hover effect */
            button:hover {
                background-color: #005fa3;
            }

            /* Individual review box */
            .review {
                background-color: #f0f0f0;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 15px;
            }

            /* Review title */
            .review h3 {
                margin: 0 0 5px 0;
            }

            /* Review comment paragraph */
            .review p {
                margin: 5px 0 0 0;
            }

            /* Error messages */
            .error-msg {
                color: red;
                font-size: 12px;
                display: none;
            }
        </style>
    </main>

    <!-- JAVASCRIPT: Handles form submission, validation, storage, and dynamic review display -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const reviewForm = document.getElementById("reviewForm");
            const reviewsContainer = document.getElementById("reviewsContainer");

            // Load existing reviews from localStorage
            loadReviews();

            // Form submit event
            reviewForm.addEventListener("submit", function (e) {
                e.preventDefault();

                // Get input values
                const name = document.getElementById("name").value.trim();
                const rating = document.getElementById("rating").value;
                const comment = document.getElementById("comment").value.trim();

                // Validation flags
                let isValid = true;

                // Check for empty fields
                if (name === "") { showError("nameError", "Name is required"); isValid = false; } else { hideError("nameError"); }
                if (rating === "") { showError("ratingError", "Rating is required"); isValid = false; } else { hideError("ratingError"); }
                if (comment === "") { showError("commentError", "Comment is required"); isValid = false; } else { hideError("commentError"); }

                if (!isValid) return;

                // Create review object
                const review = { name, rating, comment };

                // Save review to localStorage
                let reviews = JSON.parse(localStorage.getItem("reviews")) || [];
                reviews.push(review);
                localStorage.setItem("reviews", JSON.stringify(reviews));

                // Reset form after submission
                reviewForm.reset();

                // Reload reviews dynamically
                loadReviews();
            });

            // Show error message
            function showError(id, msg) {
                const el = document.getElementById(id);
                el.innerText = msg;
                el.style.display = "block";
            }

            // Hide error message
            function hideError(id) {
                const el = document.getElementById(id);
                el.innerText = "";
                el.style.display = "none";
            }

            // Load reviews from localStorage and display
            function loadReviews() {
                reviewsContainer.innerHTML = "";
                const reviews = JSON.parse(localStorage.getItem("reviews")) || [];
                if (reviews.length === 0) {
                    reviewsContainer.innerHTML = "<p>No reviews yet.</p>";
                    return;
                }
                reviews.forEach((rev) => {
                    const div = document.createElement("div");
                    div.classList.add("review");
                    div.innerHTML = `<h3>${rev.name} - ${rev.rating} ⭐</h3><p>${rev.comment}</p>`;
                    reviewsContainer.appendChild(div);
                });
            }
        });
    </script>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- FOOTER -->
    <footer class="bg-dark text-white text-center py-3 mt-auto">
        © 2026 Jaykumar Rakesh Desai | All Rights Reserved
    </footer>

</body>

</html>